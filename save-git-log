#!/bin/sh
# æ„Ÿè§‰æ£’æ£’å“’~ ã€/Users/1q84/Desktop/git-logã€‘æ˜¯ log ä¿å­˜æ–‡ä»¶
# å¥½å§, å¯ä»¥ç”¨ã€git lg > /Users/1q84/Desktop/git-logã€‘ä¿å­˜æ–‡ä»¶
# å½“ç„¶éœ€è¦åœ¨æœ‰ git çš„ç›®å½•ä¸‹é¢è¿è¡Œè¿™ä¸ªè„šæœ¬
# å¦‚æœæ²¡æœ‰ç»™å‡ºè¾“å‡ºç›®å½•çš„è¯
if [ -n "$1" ]; then
    gitLog=$1
else
    # ä¼¼ä¹ä¸æ”¯æŒ "~/Desktop"
    gitLog="$HOME""/Desktop/git-log"
fi

if [ -n "$2" ]; then
    logCmd=$2
else
    # ä¼¼ä¹ä¸æ”¯æŒ "~/Desktop"
    logCmd="git lg"
fi

git lg > "$gitLog";

# é¢, è¿™ä¸ªæ˜¯ç”¨æ¥å¦å¤–ä¿å­˜å‡ºæ¥çš„ git ç¾åŒ–åçš„ log çš„é¢œè‰²ç 
sedCmd="s/\[31m//g;
        s/\[32m//g;
        s/\[33m//g;
        s/\[34m//g;
        s/\[35m//g;
        s/\[36m//g;
        s/\[m//g;
        s/\[1\;31m//g;
        s/\[1\;32m//g;
        s/\[1\;33m//g;
        s/\[1\;34m//g;
        s/\[1\;35m//g;
        s/\[1\;36m//g"
gsed -i "$sedCmd" "$gitLog";
